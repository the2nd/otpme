.TH OTPME-REALM 1 "2025-12-29" "OTPme 0.3.0a120" "OTPme Manual"
.SH NAME
otpme-realm \- manage OTPme realms
.SH SYNOPSIS
.B otpme-realm
.I command
[\fIoptions\fR] [\fIrealm\fR]
.SH DESCRIPTION
.B otpme-realm
manages realms in the OTPme system. A realm is the top-level organizational unit that contains all objects (users, tokens, hosts, nodes, groups, etc.). The realm is initialized with a CA hierarchy and a master site.
.SH COMMANDS
.SS Realm Initialization
.TP
.B init \fR[\fIoptions\fR] \fIrealm\fR \fIsite\fR \fIfqdn\fR [\fIaddress\fR]
Initialize a new realm. Creates the realm with a master site, CA hierarchy, and initial node. This is the first command run when setting up a new OTPme installation.
.SS Display
.TP
.B show \fR[\fIrealm\fR]
Display realm information. Without arguments, shows all realms.
.TP
.B list \fR[\fIregex\fR]
List realms, optionally filtered by regex pattern.
.SS Authentication and Synchronization
.TP
.B enable_auth \fIrealm\fR
Enable authentication with a trusted realm.
.TP
.B disable_auth \fIrealm\fR
Disable authentication with a trusted realm.
.TP
.B enable_sync \fIrealm\fR
Enable synchronization with a trusted realm.
.TP
.B disable_sync \fIrealm\fR
Disable synchronization with a trusted realm.
.SS CA Data
.TP
.B dump_ca_data \fIrealm\fR
Dump realm CA data (certificates and CRLs) to stdout.
.TP
.B update_ca_data \fIrealm\fR
Update realm CA data (certificates and CRLs).
.SS Policy Management
.TP
.B add_policy \fIrealm\fR \fIpolicy\fR
Attach a policy to the realm.
.TP
.B remove_policy \fIrealm\fR \fIpolicy\fR
Remove a policy from the realm.
.TP
.B list_policies \fIrealm\fR
List policies attached to the realm.
.SS ACL Management
.TP
.B add_acl \fIrealm\fR \fIowner_type\fR \fIowner\fR \fIacl\fR
Add an access control entry.
.TP
.B del_acl \fIrealm\fR \fIacl\fR
Remove an access control entry.
.TP
.B show_acls \fIrealm\fR
Display all ACLs for the realm.
.SS Extension and Attribute Management
.TP
.B add_extension \fIrealm\fR \fIextension\fR
Add an extension to the realm.
.TP
.B remove_extension \fIrealm\fR \fIextension\fR
Remove an extension from the realm.
.TP
.B add_attribute \fIrealm\fR \fIattribute\fR=\fIvalue\fR
Add an LDAP attribute to the realm.
.TP
.B modify_attribute \fIrealm\fR \fIattribute\fR \fIold_value\fR \fInew_value\fR
Modify an LDAP attribute of the realm.
.TP
.B del_attribute \fIrealm\fR \fIattribute\fR=\fIvalue\fR
Remove an LDAP attribute from the realm.
.TP
.B add_object_class \fIrealm\fR \fIclass\fR
Add an LDAP object class to the realm.
.TP
.B del_object_class \fIrealm\fR \fIclass\fR
Remove an LDAP object class from the realm.
.TP
.B show_ldif \fR[\fB\-a\fR \fIattributes\fR] \fIrealm\fR
Show LDIF representation of the realm. Use \fB\-a\fR to show only specific attributes.
.SS Configuration and Attributes
.TP
.B description \fIrealm\fR \fR[\fIdescription\fR]
Set realm description.
.TP
.B touch \fIrealm\fR
Re-index the object to fix potential index problems.
.SS Import/Export
.TP
.B export \fR[\fB\-\-password\fR \fIPASS\fR] \fIrealm\fR
Export realm configuration.
.TP
.B remove_orphans \fIrealm\fR
Remove orphaned object references.
.SH INIT OPTIONS
These options are used with the \fBinit\fR command:
.SS CA Certificate Options
.TP
.B \-\-ca\-valid \fIDAYS\fR
CA certificate validity in days.
.TP
.B \-\-ca\-key\-len \fIBITS\fR
Key length for CA certificates in bits.
.TP
.B \-\-country \fICOUNTRY\fR
Set CA certificate country field.
.TP
.B \-\-state \fISTATE\fR
Set CA certificate state field.
.TP
.B \-\-locality \fILOCALITY\fR
Set CA certificate locality field.
.TP
.B \-\-organization \fIORG\fR
Set CA certificate organization field.
.TP
.B \-\-ou \fIOU\fR
Set CA certificate organizational unit field.
.TP
.B \-\-email \fIEMAIL\fR
Set CA certificate email field.
.SS Site and Node Certificate Options
.TP
.B \-\-site\-valid \fIDAYS\fR
Master site certificate validity in days.
.TP
.B \-\-site\-key\-len \fIBITS\fR
Key length for master site certificate in bits.
.TP
.B \-\-node\-valid \fIDAYS\fR
Master node certificate validity in days.
.TP
.B \-\-node\-key\-len \fIBITS\fR
Key length for master node certificate in bits.
.SS Dictionary and ID Range Options
.TP
.B \-\-no\-dicts
Do not add any word dictionaries for password strength checking.
.TP
.B \-\-dicts \fIdict1,dict2\fR
Add the given word dictionaries for password strength checking.
.TP
.B \-\-id\-ranges \fIrange1,range2\fR
ID ranges to add during initialization.
.SH OPTIONS
.SS Display Options
.TP
.B \-a
Show all realms.
.TP
.B \-z \fISIZE\fR
Limit output size.
.TP
.B \-\-fields \fIFIELD1,FIELD2\fR
Display only specified fields.
.TP
.B \-\-policy\-limit \fIN\fR
Limit number of policies shown.
.TP
.B \-\-sort\-by \fIFIELD\fR
Sort output by field.
.TP
.B \-\-reverse
Reverse sort order.
.TP
.B \-\-raw
Output without headers/borders.
.TP
.B \-\-csv
Output as CSV.
.TP
.B \-\-csv\-sep \fISEP\fR
CSV separator character.
.TP
.B \-\-attribute \fIATTR\fR
Display specific attribute in list command.
.SS General Options
.TP
.B \-\-password \fIPASS\fR
Password for encrypting exports.
.PP
Global options are available for all commands. See
.BR otpme (1)
for details.
.SH EXAMPLES
.SS Initializing a Realm
.TP
.B otpme-realm init myrealm master node1.example.com 10.0.0.1
Initialize a new realm with master site and node
.TP
.B otpme-realm init \-\-ca\-key\-len 4096 myrealm master node1.example.com
Initialize with 4096-bit CA keys
.SS CA Data
.TP
.B otpme-realm dump_ca_data myrealm
Export CA certificates and CRLs
.SH FILES
.TP
.I /var/lib/otpme/
OTPme data directory
.SH SEE ALSO
.BR otpme (1),
.BR otpme (7),
.BR otpme-site (1),
.BR otpme-ca (1),
.BR otpme-node (1),
.BR otpme-policy (1)

.SH AUTHOR
the2nd <the2nd@otpme.org>
.SH NOTE
This manual page was created with AI assistance.
.SH COPYRIGHT
Copyright \(co 2014-2025 the2nd. License: GPLv3
